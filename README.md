README.md
Getting and Cleaning Data - Course Project 

This document describes run_analysis.r, which is used to complete the course project for Getting and Cleaning data Coursera course.

There are several functions in the run_analysis.r:

1. Function main is the starting point.  Run main() will call each of the function below.  There is no input to main(), the output is result.txt, which is the result after step 5 of the project requirement.  In addition, we output first 2 rows of the result.txt file on screen to check validity.  The function assumes that the current working directory is the unzipped raw data folder.
2. Function main will first call function step1.  Function step1 is the first step project requirement.  Function step1 has no input.  Inside function step1, function readraw is called.  The input to function readraw is the subfolder name that contains the raw data, x file name, y file name, subject file name and feature file name.  Function readraw read in all these files and created a data frame and return the data frame.  Function step 1 calls function readraw on test folder and train folder seperately and gets two data frames and then rbind them.  The output of function step 1 is a combined data frame of 10299 rows and 563 columns, with headers defined in feature file.
3. After function step 1, function main will call function step2.  Function step 2 performs tasks at step 2 of course project requirements.  The input of function step 1 is the output from function step 1, which is a big data frame with 10299 rows and 563 columns.  Function 2 selects only the columns with std() or mean() columns and return a smaller data set with 10299 rows, 68 columns.  (one column for subject, one column for label and 66 columns for mean() and std())
4. After function step 2, function main calls function step3.  Function step3 corresponds to step 3 course project requirement.  The input to function step 3 is the output from function step2, a data frame of 10299 rows and 68 columns.  Another input to function step3 is the activity label file name.  Function step 3 read in activity label file, merge the file with the step 2 output and match the label field to activity name,  The output of function step 3 is a data frame of 10699 rows and 68 columns.  One column is for subject, one column is for activity, and 66 columns for mean() and std()
5. After function step3, function main calls function step4.  Function step4 is the step 4 of course project requirement.  The input to function step4 is the output from last step, function step3, a data frame of 10299 rows and 68 columns.  Function step4 replace some abbreviations in column header with more clear descriptive names.  The output of function step4 is still a data frame of 10299 rows, 68 columns.  Now the column name is more descriptive.
6.  After function step4, function main calls function step5. Function step5 is the step 5 of course project requirement.  The input to function step 5 is the output from last step, function step4, a data frame of 10299 rows and 68 columns, with more descriptive column names.  We use library plyr and function ddply to summarize the mean of each variable per subject per activity. The result is a data frame of 180 rows (30 subjects * 6 activities) and 68 columns (one for subject, one for activity, 66 for mean of each variable)
7.  Function main then writes the output of function step5 to result.txt and output first two rows of result.txt to the screen.
